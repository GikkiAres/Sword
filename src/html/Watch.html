<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Vue 测试实例 - 菜鸟教程(runoob.com)</title>
	<script src="../js/vue2.6.12.js"></script>
</head>
<style>
    .class1 {
      background: #444;
      color: #eee;
    }
</style>

<body>
    <div id="vue_det">
        <p style="font-size:25px;">计数器:{{counter}}</p>
        <button @click = "counter++" style="font-size:25px;">点我</button>
        千米 : <input type = "text" v-model = "kilometers">
        米 : <input type = "text" v-model = "meters">
        <div id="info">

        </div>
        <div id="info2">

        </div>
    </div>
    <script type="text/javascript">
    // 我们的数据对象
    var vm = new Vue({
        el: '#vue_det',
        data: { 
            counter:1,
            kilometers:0,
            meters:0
        },
        watch : {
            kilometers:function(val) {
                this.kilometers = val;
                this.meters = this.kilometers * 1000
            },
            meters : function (val) {
                this.kilometers = val/ 1000;
                this.meters = val;
            }
        }
    })
    //Vue监听counter的值变化时,调用.
    vm.$watch('counter',function(newVal,oldVal) {
        alert('计数器值变化:'+oldVal+'变为'+newVal+"!");
    });
    vm.$watch('kilometers', function (newValue, oldValue) {
        // 这个回调将在 vm.kilometers 改变后调用
        document.getElementById ("info").innerHTML = "修改前值为: " + oldValue + "，修改后值为: " + newValue;
    });
    //这种方式,是为vue的属性,添加监听函数,不会替代已经有的.可能一个属性,有多个监听函数.
    vm.$watch('kilometers', function (newValue, oldValue) {
        // 这个回调将在 vm.kilometers 改变后调用
        document.getElementById ("info2").innerHTML = "修改前值为: " + oldValue + "，修改后值为: " + newValue;
    })

    </script>
</body>
</html>

<!--
Vue绑定的数据源,具有两种访问方式.
v-html,解析并显示html.

-->